
http 协议无状态，无法判断登录状态  
cookie 保存在本地浏览器的多组键值对  
服务器让浏览器设置的cookie值，cookie信息保存在浏览器本地（浏览器也可以设置不保存），浏览器再次访问时自动携带对应的cookie  

在服务端设置 cookie 值，client 端请求时携带 cookie 值，服务端再进行判断
```python
if user == '123' and pwd == '123':
    ret = redirect('publishers')
    ret.set_cookie('is_login', '1')
    return ret
else:
    error = '用户或密码错误'
```

装饰器判断登录状态
```python
def login_required(func):  # 参数传要装饰的函数
    @wraps(func)
    def inner(request, *args, **kwargs):  # 被装饰函数执行的参数
        # 函数执行前的逻辑，判断是否登录
        if request.COOKIES.get('is_login') != '1':
            return redirect(f'login')
        ret = func(request, *args, **kwargs)
        # 函数执行后
        return ret

    return inner
```